# Net Primary Productivity predictions using Machine Learning

This is my master's project for KSchool's 19th ed. of the Master in Data Science

## Introduction:
The aim of this project is to find a model that can predict global-scale Net Primary Productivity based on accesible climate maps.
This sounds concise, bit not clear, so let's explore a little more into this idea.

### What is Net Primary Productivity?

The Net Primary Productivity (abreviated NPP) is the difference between the amount of carbon that the plants asimilate via [primary productivity](https://en.wikipedia.org/wiki/Primary_production) to generate biomass and the carbon that they release during respiration.
In shot, is the net balance of carbon that is being captured by plants. It is expressed as grams of Carbon / m<sup>2</sup> / year

![NPP_expl](https://lh3.googleusercontent.com/proxy/2EYjvKj0bKYXKdbKY1cdmm5aocirMLPhOehssOAWtJL30psLtpdtd6_JMyhpyH5ok0MGO8V6jtCf3799mB3jVUU)


### Why is NPP important?

NPP is an ecological variable that serves as a good measure of the productivity of different ecosystems. Being able to characterize ecosystems taking their productivity into an account can be very useful to model other ecological aspects. For example, the NPP can help improve models to study and predict the distribution of the species of that ecosystem, and identify critical areas for conservation or potential changes over time.

### How is NPP measured?

Large-scale NPP measures are generated combining satellite observations, vegetation maps and complex meteorological models. This kind of measurements are avaialble from different sources such as [NASA's Earth Observatory](https://earthobservatory.nasa.gov/global-maps/MOD17A2_M_PSN) for recent periods.

![NPP_NASA](https://eoimages.gsfc.nasa.gov/images/globalmaps/data/MOD17A2_M_PSN/MOD17A2_M_PSN_2000-02.JPEG)


### Why estimate NPP then?

As explained above, the models to compose NPP maps are often very complex. Most of the needed variables are not always publicly available, and for the study of periods different to the present they just don't exist.

Therefore, there is a need for a method to create global maps of NPP based on more accesible variables for differente periods.
Or... is there? Actually, there is already an existing model for this purpose, called the "Miami Model". This is a theoretical model developed by H. Lieth in 1972, and presented in a conference in Miami (hence the name). This model proposes that potential NPP can be calculated based on annual temperature and precipitation. The idea behind it is that, with two equations, it is possible to estimate the potential NPP derived from the temperature and from the precipitation, and combine them to get the lower value, corresponding to the NPP generated by the limiting factor. For example, in dry areas precipitation would be the limiting factor, and in cold areas temperature would be the limitation despite precipitation.
This are the equations that define the Miami Model
![miami_model_equations](https://wergosum.com/wp-content/uploads/2014/01/NPP_1a1b1c_transp.png)


and they produce curves like these:
![miami_model_graph](https://wergosum.com/wp-content/uploads/2014/01/miami-curves.png)

Although the Miami Model is still widely used, it is clearly outdated and its performances is far from perfect. So the goal of this project is to provide a new model that can be easily implemented for ecological research.

## The project

### Variables to use

The idea is to use variables that are available for different time periods, from the last interglacial and glacial periods to late 21<sup>st</sup> century.
To do so, climate is the best candidate, as climatic maps (estimations) are freely accesible for many different periods from [WorldClim](https://www.worldclim.org/) and other sources. In this project, I have included what is known as ["bioclimatic variables"](https://www.worldclim.org/data/bioclim.html) (or bioclims), which are 19 variables derived from monthly temperature and precipitation data that are useful to represent climatic dynamics, seasonality and relevant biological aspects.
These variables, at a resolution of 5km x5km, can be downloaded [here](https://biogeo.ucdavis.edu/data/worldclim/v2.1/base/wc2.1_2.5m_bio.zip) in raster format (.tif).
Additionally, I have also included the latitude as a variable that can help the modelling of NPP, as it does not change over time and can serve as a proxy of solar radiation.

### Process
